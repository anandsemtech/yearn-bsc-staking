/* src/theme.css */

/* Tailwind v4 entry */
@import "tailwindcss";

/* Brand tokens */
:root{
  --yt-bg:#080b16;         /* page background */
  --yt-bg-soft:#0b1020;
  --yt-card:#0f1630;
  --yt-border:#1f2a4a;
  --yt-accent:#6c5ce7;
  --yt-text:#e5e7eb;
  --yt-text-dim:#9aa4b2;
  --yt-radius:16px;

  /* Tell the UA we’re dark-only (form controls, scrollbars, etc.) */
  color-scheme: dark;
}

@layer base{
  /* use dynamic viewport height to avoid URL-bar cropping */
  html, body, #root{
    height: 100%;
    min-height: 100dvh;
  }

  /* Hard-lock dark */
  html { color-scheme: dark; }

  body{
    background: var(--yt-bg);
    color: var(--yt-text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";

    /* prevent horizontal scroll and fix mobile cropping */
    overflow-x: hidden;
  }
}

/* Reusable “yt-*” helpers */
@layer components{
  .yt-bg{ @apply min-h-dvh grid place-items-center px-6; }

  .yt-card{
    @apply rounded-2xl border border-white/10 bg-white/10 p-6 backdrop-blur-xl;
    /* optional: tie to token surface */
    background-color: color-mix(in oklab, var(--yt-card) 85%, transparent);
    box-shadow: 0 0 60px -20px rgba(108,92,231,.35);
  }

  .yt-title{ @apply text-3xl sm:text-5xl font-black; }
  .yt-sub{ @apply text-base sm:text-lg text-gray-400; }

  .yt-shell{ @apply min-h-screen text-gray-100; }
  .yt-header{
    @apply sticky top-0 z-30 flex items-center justify-between gap-4 px-4 sm:px-6 py-3 border-b border-white/10 backdrop-blur-xl;
    background-color: color-mix(in oklab, var(--yt-bg) 70%, transparent);
  }
  .yt-brand{ @apply flex items-center gap-2 text-sm font-semibold tracking-wide text-gray-200; }
  .yt-brand img{ @apply h-6 w-6; }

  .yt-main{ @apply mx-auto w-full max-w-6xl p-4 sm:p-6; }

  .yt-panel{
    @apply rounded-2xl border border-white/10 p-6 backdrop-blur-xl;
    background-color: color-mix(in oklab, var(--yt-card) 80%, transparent);
    box-shadow: 0 0 60px -20px rgba(88,78,232,.35);
  }
  .yt-panel-title{ @apply text-xl font-bold mb-2; }
  .yt-muted{ @apply text-sm text-gray-400; }
  .yt-code{
    @apply mt-2 inline-block rounded-lg border border-white/10 bg-black/60 px-3 py-2 font-mono text-sm text-gray-200;
  }
}

@layer utilities {
  /* Dynamic viewport height (prevents cropping under URL bar) */
  .h-dvh { height: 100dvh; }
  .min-h-dvh { min-height: 100dvh; }

  /* Safe-area paddings for iOS/Android */
  .safe-pt { padding-top: max(env(safe-area-inset-top, 0px), 8px); }
  .safe-pb { padding-bottom: max(env(safe-area-inset-bottom, 0px), 8px); }

  /* Max height for bottom sheets with dvh + safe-area */
  .max-h-dvh-safe {
    max-height: min(92dvh, calc(100dvh - env(safe-area-inset-top, 0px) - 12px));
  }

  /* Scroll behavior inside sheets */
  .sheet-scroll { overflow-y: auto; overscroll-behavior: contain; }
}

/* Keep Tailwind dark variants active and use dark UA styling */
@layer base {
  html { color-scheme: dark; }
  html.dark body { background: var(--yt-bg); }
}

/* When modal is open, put the app into a sheet-friendly state */
@layer utilities {
  html.modal-open body {
    touch-action: none;
  }

  /* Hide/slide the mobile footer while the staking modal is open. */
  html.modal-open .mobile-footer-nav {
    opacity: 0;
    transform: translateY(100%);
    pointer-events: none;
    transition: transform .25s ease, opacity .2s ease;
  }

  /* Make sure the modal sits above anything else */
  .z-modal { z-index: 120; }
}

/* Footer z baseline (modal uses 120) */
.mobile-footer-nav { z-index: 80; }
